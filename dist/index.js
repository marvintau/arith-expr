!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.arithExpr=r():t.arithExpr=r()}(window,function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,function(r){return t[r]}.bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=0)}([function(t,r,e){const n=e(1);t.exports=((t,r={})=>(n.varTable=r,n.parse(t)))},function(t,r,e){"use strict";function n(t,r,e,o){this.message=t,this.expected=r,this.found=e,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)}!function(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}(n,Error),n.buildMessage=function(t,r){var e={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var r,e="";for(r=0;r<t.parts.length;r++)e+=t.parts[r]instanceof Array?u(t.parts[r][0])+"-"+u(t.parts[r][1]):u(t.parts[r]);return"["+(t.inverted?"^":"")+e+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function u(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}return"Expected "+function(t){var r,n,o,u=new Array(t.length);for(r=0;r<t.length;r++)u[r]=(o=t[r],e[o.type](o));if(u.sort(),u.length>0){for(r=1,n=1;r<u.length;r++)u[r-1]!==u[r]&&(u[n]=u[r],n++);u.length=n}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(r)+" found."},t.exports={SyntaxError:n,parse:function(t,r){r=void 0!==r?r:{};var e,o={},u={Expr:ct},c=ct,a="===",i=Y("===",!1),f=function(t,r){return t===r?"EQUAL":Math.abs(t-r)},l="+",s=Y("+",!1),p="-",h=Y("-",!1),d=function(t,r){return r.reduce(function(t,r){switch(r[1]){case"+":return t+r[3];case"-":return t-r[3]}},t||0)},g="*",A=Y("*",!1),x="/",v=Y("/",!1),y=function(t,r){return r.reduce(function(t,r){switch(r[1]){case"*":return t*r[3];case"/":return t/r[3]}},t)},b="(",m=Y("(",!1),C=")",w=Y(")",!1),E=function(t){return t},j=rt("variable"),F=/^[A-Za-z\u4E00-\u9FA5]/,S=tt([["A","Z"],["a","z"],["一","龥"]],!1,!1),_=/^[A-Za-z0-9\u4E00-\u9FA5_]/,M=tt([["A","Z"],["a","z"],["0","9"],["一","龥"],"_"],!1,!1),O=function(){let t=pt.varTable||{},r=X();return r in t?t[r]:function(t,r){throw r=void 0!==r?r:nt(J,H),function(t,r){return new n(t,null,null,r)}(t,r)}(`identifier [${r}] not found in variable table`)},T=rt("real"),P=".",z=Y(".",!1),R=/^[eE]/,Z=tt(["e","E"],!1,!1),k=/^[+\-]/,U=tt(["+","-"],!1,!1),I=function(){return parseFloat(X())},L=rt("integer"),Q=/^[0-9]/,$=tt([["0","9"]],!1,!1),q=function(){return parseInt(X(),10)},B=rt("whitespace"),D=/^[ \t\n\r]/,G=tt([" ","\t","\n","\r"],!1,!1),H=0,J=0,K=[{line:1,column:1}],N=0,V=[],W=0;if("startRule"in r){if(!(r.startRule in u))throw new Error("Can't start parsing from rule \""+r.startRule+'".');c=u[r.startRule]}function X(){return t.substring(J,H)}function Y(t,r){return{type:"literal",text:t,ignoreCase:r}}function tt(t,r,e){return{type:"class",parts:t,inverted:r,ignoreCase:e}}function rt(t){return{type:"other",description:t}}function et(r){var e,n=K[r];if(n)return n;for(e=r-1;!K[e];)e--;for(n={line:(n=K[e]).line,column:n.column};e<r;)10===t.charCodeAt(e)?(n.line++,n.column=1):n.column++,e++;return K[r]=n,n}function nt(t,r){var e=et(t),n=et(r);return{start:{offset:t,line:e.line,column:e.column},end:{offset:r,line:n.line,column:n.column}}}function ot(t){H<N||(H>N&&(N=H,V=[]),V.push(t))}function ut(t,r,e){return new n(n.buildMessage(t,r),t,r,e)}function ct(){var r;return(r=function(){var r,e,n,u;return r=H,(e=ft())!==o&&st()!==o?(t.substr(H,3)===a?(n=a,H+=3):(n=o,0===W&&ot(i)),n!==o&&st()!==o&&(u=ft())!==o?(J=r,e=f(e,u),r=e):(H=r,r=o)):(H=r,r=o),r}())===o&&(r=at()),r}function at(){var r,e,n,u,c,a,i,f;if(r=H,(e=it())===o&&(e=null),e!==o){for(n=[],u=H,(c=st())!==o?(43===t.charCodeAt(H)?(a=l,H++):(a=o,0===W&&ot(s)),a===o&&(45===t.charCodeAt(H)?(a=p,H++):(a=o,0===W&&ot(h))),a!==o&&(i=st())!==o&&(f=it())!==o?u=c=[c,a,i,f]:(H=u,u=o)):(H=u,u=o);u!==o;)n.push(u),u=H,(c=st())!==o?(43===t.charCodeAt(H)?(a=l,H++):(a=o,0===W&&ot(s)),a===o&&(45===t.charCodeAt(H)?(a=p,H++):(a=o,0===W&&ot(h))),a!==o&&(i=st())!==o&&(f=it())!==o?u=c=[c,a,i,f]:(H=u,u=o)):(H=u,u=o);n!==o?(J=r,r=e=d(e,n)):(H=r,r=o)}else H=r,r=o;return r}function it(){var r,e,n,u,c,a,i,f;if(r=H,(e=ft())!==o){for(n=[],u=H,(c=st())!==o?(42===t.charCodeAt(H)?(a=g,H++):(a=o,0===W&&ot(A)),a===o&&(47===t.charCodeAt(H)?(a=x,H++):(a=o,0===W&&ot(v))),a!==o&&(i=st())!==o&&(f=ft())!==o?u=c=[c,a,i,f]:(H=u,u=o)):(H=u,u=o);u!==o;)n.push(u),u=H,(c=st())!==o?(42===t.charCodeAt(H)?(a=g,H++):(a=o,0===W&&ot(A)),a===o&&(47===t.charCodeAt(H)?(a=x,H++):(a=o,0===W&&ot(v))),a!==o&&(i=st())!==o&&(f=ft())!==o?u=c=[c,a,i,f]:(H=u,u=o)):(H=u,u=o);n!==o?(J=r,r=e=y(e,n)):(H=r,r=o)}else H=r,r=o;return r}function ft(){var r,e,n,u;return r=H,40===t.charCodeAt(H)?(e=b,H++):(e=o,0===W&&ot(m)),e!==o&&st()!==o&&(n=at())!==o&&st()!==o?(41===t.charCodeAt(H)?(u=C,H++):(u=o,0===W&&ot(w)),u!==o?(J=r,r=e=E(n)):(H=r,r=o)):(H=r,r=o),r===o&&(r=function(){var r,e,n,u,c;if(W++,r=H,(e=st())!==o)if(F.test(t.charAt(H))?(n=t.charAt(H),H++):(n=o,0===W&&ot(S)),n!==o){for(u=[],_.test(t.charAt(H))?(c=t.charAt(H),H++):(c=o,0===W&&ot(M));c!==o;)u.push(c),_.test(t.charAt(H))?(c=t.charAt(H),H++):(c=o,0===W&&ot(M));u!==o?(J=r,e=O(),r=e):(H=r,r=o)}else H=r,r=o;else H=r,r=o;return W--,r===o&&(e=o,0===W&&ot(j)),r}())===o&&(r=function(){var r,e,n,u,c,a,i,f,l;return W++,r=H,(e=st())!==o&&lt()!==o?(n=H,46===t.charCodeAt(H)?(u=P,H++):(u=o,0===W&&ot(z)),u!==o&&(c=lt())!==o?(a=H,R.test(t.charAt(H))?(i=t.charAt(H),H++):(i=o,0===W&&ot(Z)),i!==o?(k.test(t.charAt(H))?(f=t.charAt(H),H++):(f=o,0===W&&ot(U)),f!==o&&(l=lt())!==o?a=i=[i,f,l]:(H=a,a=o)):(H=a,a=o),a===o&&(a=null),a!==o?n=u=[u,c,a]:(H=n,n=o)):(H=n,n=o),n===o&&(n=null),n!==o?(J=r,e=I(),r=e):(H=r,r=o)):(H=r,r=o),W--,r===o&&(e=o,0===W&&ot(T)),r}())===o&&(r=lt()),r}function lt(){var r,e,n;if(W++,r=H,st()!==o){if(e=[],Q.test(t.charAt(H))?(n=t.charAt(H),H++):(n=o,0===W&&ot($)),n!==o)for(;n!==o;)e.push(n),Q.test(t.charAt(H))?(n=t.charAt(H),H++):(n=o,0===W&&ot($));else e=o;e!==o?(J=r,r=q()):(H=r,r=o)}else H=r,r=o;return W--,r===o&&0===W&&ot(L),r}function st(){var r,e;for(W++,r=[],D.test(t.charAt(H))?(e=t.charAt(H),H++):(e=o,0===W&&ot(G));e!==o;)r.push(e),D.test(t.charAt(H))?(e=t.charAt(H),H++):(e=o,0===W&&ot(G));return W--,r===o&&(e=o,0===W&&ot(B)),r}var pt=this;if((e=c())!==o&&H===t.length)return e;throw e!==o&&H<t.length&&ot({type:"end"}),ut(V,N<t.length?t.charAt(N):null,N<t.length?nt(N,N+1):nt(N,N))}}}])});