!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.arithExpr=e():t.arithExpr=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){const n=r(1);t.exports=((t,e={})=>(n.varTable=e,n.parse(t)))},function(t,e,r){"use strict";function n(t,e,r,o){this.message=t,this.expected=e,this.found=r,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)}!function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(n,Error),n.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?u(t.parts[e][0])+"-"+u(t.parts[e][1]):u(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function u(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}return"Expected "+function(t){var e,n,o,u=new Array(t.length);for(e=0;e<t.length;e++)u[e]=(o=t[e],r[o.type](o));if(u.sort(),u.length>0){for(e=1,n=1;e<u.length;e++)u[e-1]!==u[e]&&(u[n]=u[e],n++);u.length=n}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},t.exports={SyntaxError:n,parse:function(t,e){e=void 0!==e?e:{};var r,o={},u={Expression:nt},c=nt,a="+",i=V("+",!1),f="-",l=V("-",!1),s=function(t,e){return e.reduce(function(t,e){switch(e[1]){case"+":return t+e[3];case"-":return t-e[3]}},t)},p="*",h=V("*",!1),d="/",g=V("/",!1),A=function(t,e){return e.reduce(function(t,e){switch(e[1]){case"*":return t*e[3];case"/":return t/e[3]}},t)},x="(",y=V("(",!1),v=")",b=V(")",!1),m=function(t){return t},C=X("variable"),w=/^[A-Za-z\u4E00-\u9FA5]/,E=W([["A","Z"],["a","z"],["一","龥"]],!1,!1),j=/^[A-Za-z0-9\u4E00-\u9FA5_]/,F=W([["A","Z"],["a","z"],["0","9"],["一","龥"],"_"],!1,!1),S=function(){let t=it.varTable||{};return Q()in t?t[Q()]:function(t,e){throw e=void 0!==e?e:tt(H,G),function(t,e){return new n(t,null,null,e)}(t,e)}(`identifier [${Q()}] not found in variable table`)},_=X("real"),O=/^[+\-]/,M=W(["+","-"],!1,!1),T=".",P=V(".",!1),z=/^[eE]/,R=W(["e","E"],!1,!1),Z=function(){return parseFloat(Q())},k=X("integer"),I=/^[0-9]/,U=W([["0","9"]],!1,!1),$=function(){return parseInt(Q(),10)},q=X("whitespace"),B=/^[ \t\n\r]/,D=W([" ","\t","\n","\r"],!1,!1),G=0,H=0,J=[{line:1,column:1}],K=0,L=[],N=0;if("startRule"in e){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');c=u[e.startRule]}function Q(){return t.substring(H,G)}function V(t,e){return{type:"literal",text:t,ignoreCase:e}}function W(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function X(t){return{type:"other",description:t}}function Y(e){var r,n=J[e];if(n)return n;for(r=e-1;!J[r];)r--;for(n={line:(n=J[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return J[e]=n,n}function tt(t,e){var r=Y(t),n=Y(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function et(t){G<K||(G>K&&(K=G,L=[]),L.push(t))}function rt(t,e,r){return new n(n.buildMessage(t,e),t,e,r)}function nt(){var e,r,n,u,c,p,h,d;if(e=G,(r=ot())!==o){for(n=[],u=G,(c=at())!==o?(43===t.charCodeAt(G)?(p=a,G++):(p=o,0===N&&et(i)),p===o&&(45===t.charCodeAt(G)?(p=f,G++):(p=o,0===N&&et(l))),p!==o&&(h=at())!==o&&(d=ot())!==o?u=c=[c,p,h,d]:(G=u,u=o)):(G=u,u=o);u!==o;)n.push(u),u=G,(c=at())!==o?(43===t.charCodeAt(G)?(p=a,G++):(p=o,0===N&&et(i)),p===o&&(45===t.charCodeAt(G)?(p=f,G++):(p=o,0===N&&et(l))),p!==o&&(h=at())!==o&&(d=ot())!==o?u=c=[c,p,h,d]:(G=u,u=o)):(G=u,u=o);n!==o?(H=e,e=r=s(r,n)):(G=e,e=o)}else G=e,e=o;return e}function ot(){var e,r,n,u,c,a,i,f;if(e=G,(r=ut())!==o){for(n=[],u=G,(c=at())!==o?(42===t.charCodeAt(G)?(a=p,G++):(a=o,0===N&&et(h)),a===o&&(47===t.charCodeAt(G)?(a=d,G++):(a=o,0===N&&et(g))),a!==o&&(i=at())!==o&&(f=ut())!==o?u=c=[c,a,i,f]:(G=u,u=o)):(G=u,u=o);u!==o;)n.push(u),u=G,(c=at())!==o?(42===t.charCodeAt(G)?(a=p,G++):(a=o,0===N&&et(h)),a===o&&(47===t.charCodeAt(G)?(a=d,G++):(a=o,0===N&&et(g))),a!==o&&(i=at())!==o&&(f=ut())!==o?u=c=[c,a,i,f]:(G=u,u=o)):(G=u,u=o);n!==o?(H=e,e=r=A(r,n)):(G=e,e=o)}else G=e,e=o;return e}function ut(){var e,r,n,u;return e=G,40===t.charCodeAt(G)?(r=x,G++):(r=o,0===N&&et(y)),r!==o&&at()!==o&&(n=nt())!==o&&at()!==o?(41===t.charCodeAt(G)?(u=v,G++):(u=o,0===N&&et(b)),u!==o?(H=e,e=r=m(n)):(G=e,e=o)):(G=e,e=o),e===o&&(e=function(){var e,r,n,u,c;if(N++,e=G,(r=at())!==o)if(w.test(t.charAt(G))?(n=t.charAt(G),G++):(n=o,0===N&&et(E)),n!==o){for(u=[],j.test(t.charAt(G))?(c=t.charAt(G),G++):(c=o,0===N&&et(F));c!==o;)u.push(c),j.test(t.charAt(G))?(c=t.charAt(G),G++):(c=o,0===N&&et(F));u!==o?(H=e,r=S(),e=r):(G=e,e=o)}else G=e,e=o;else G=e,e=o;return N--,e===o&&(r=o,0===N&&et(C)),e}())===o&&(e=function(){var e,r,n,u,c,a,i,f,l,s;return N++,e=G,(r=at())!==o?(O.test(t.charAt(G))?(n=t.charAt(G),G++):(n=o,0===N&&et(M)),n===o&&(n=null),n!==o&&ct()!==o?(u=G,46===t.charCodeAt(G)?(c=T,G++):(c=o,0===N&&et(P)),c!==o&&(a=ct())!==o?(i=G,z.test(t.charAt(G))?(f=t.charAt(G),G++):(f=o,0===N&&et(R)),f!==o?(O.test(t.charAt(G))?(l=t.charAt(G),G++):(l=o,0===N&&et(M)),l!==o&&(s=ct())!==o?i=f=[f,l,s]:(G=i,i=o)):(G=i,i=o),i===o&&(i=null),i!==o?u=c=[c,a,i]:(G=u,u=o)):(G=u,u=o),u===o&&(u=null),u!==o?(H=e,r=Z(),e=r):(G=e,e=o)):(G=e,e=o)):(G=e,e=o),N--,e===o&&(r=o,0===N&&et(_)),e}())===o&&(e=ct()),e}function ct(){var e,r,n,u;if(N++,e=G,at()!==o)if(O.test(t.charAt(G))?(r=t.charAt(G),G++):(r=o,0===N&&et(M)),r===o&&(r=null),r!==o){if(n=[],I.test(t.charAt(G))?(u=t.charAt(G),G++):(u=o,0===N&&et(U)),u!==o)for(;u!==o;)n.push(u),I.test(t.charAt(G))?(u=t.charAt(G),G++):(u=o,0===N&&et(U));else n=o;n!==o?(H=e,e=$()):(G=e,e=o)}else G=e,e=o;else G=e,e=o;return N--,e===o&&0===N&&et(k),e}function at(){var e,r;for(N++,e=[],B.test(t.charAt(G))?(r=t.charAt(G),G++):(r=o,0===N&&et(D));r!==o;)e.push(r),B.test(t.charAt(G))?(r=t.charAt(G),G++):(r=o,0===N&&et(D));return N--,e===o&&(r=o,0===N&&et(q)),e}var it=this;if((r=c())!==o&&G===t.length)return r;throw r!==o&&G<t.length&&et({type:"end"}),rt(L,K<t.length?t.charAt(K):null,K<t.length?tt(K,K+1):tt(K,K))}}}])});